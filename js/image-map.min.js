/*
 * @package       mds
 * @copyright     (C) Copyright 2020 Ryan Rhode, All rights reserved.
 * @author        Ryan Rhode, ryan@milliondollarscript.com
 * @version       2020.05.08 18:25:54 EDT
 * @license       This program is free software; you can redistribute it and/or modify
 *        it under the terms of the GNU General Public License as published by
 *        the Free Software Foundation; either version 3 of the License, or
 *        (at your option) any later version.
 *
 *        This program is distributed in the hope that it will be useful,
 *        but WITHOUT ANY WARRANTY; without even the implied warranty of
 *        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *        GNU General Public License for more details.
 *
 *        You should have received a copy of the GNU General Public License along
 *        with this program;  If not, see http://www.gnu.org/licenses/gpl-3.0.html.
 *
 *  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *
 *        Million Dollar Script
 *        A pixel script for selling pixels on your website.
 *
 *        For instructions see README.txt
 *
 *        Visit our website for FAQs, documentation, a list team members,
 *        to post any bugs or feature requests, and a community forum:
 *        https://milliondollarscript.com/
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(e=e||self,e.ImageMap=t(e.$))}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){return new d(e,t)}e=e&&e.hasOwnProperty("default")?e.default:e;var a="resize",i="load",u="complete",d=function(){function e(n,r){t(this,e),this.selector=n instanceof Array?n:document.querySelectorAll(n),document.readyState!==u?window.addEventListener(i,this.update.bind(this)):this.update(),window.addEventListener(a,this.debounce(this.update,r).bind(this))}return r(e,[{key:"update",value:function(){for(var e=this.selector,t=0;t<e.length;t++){var n=e[t];if(void 0===n.getAttribute("usemap"))return;var r=n.cloneNode();r.addEventListener(i,this.handleImageLoad(n.offsetWidth,n.offsetHeight)),r.src=n.src}}},{key:"debounce",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];window.clearTimeout(t),t=window.setTimeout(function(t){return e.apply(t,a)},r,n)}}},{key:"handleImageLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r){for(var o=r.target.width,a=r.target.height,i=t/100,u=n/100,d=r.target.getAttribute("usemap").replace(/^#/,""),c=document.querySelectorAll(e.genAreaSelector(d)),f=0;f<c.length;f++)!function(e){var t=c[e],n=t.dataset.coords=t.dataset.coords||t.getAttribute("coords"),r=n.split(",");t.setAttribute("coords",""+r.map(function(e,t){return t%2==0?+(r[t]/o*100*i):+(r[t]/a*100*u)}))}(f)}}}],[{key:"genAreaSelector",
	value:function(e){return'map[name="'.concat(e,'"] area')}}]),e}();return void 0!==e&&e.fn&&(e.fn.imageMap=function(e){return new d(this.toArray(),e)}),o.VERSION="1.1.7",o});